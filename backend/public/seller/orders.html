<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>ReuseXï½œè³£å®¶è¨‚å–®ç®¡ç†</title>
  <link rel="stylesheet" href="../buyer/style.css" />
</head>

<body>
  <h2 style="padding:20px;">ğŸ“¦ è³£å®¶è¨‚å–®ç®¡ç†</h2>

  <div id="orderList" style="padding:20px;"></div>

  <script type="module">
    import { initDB, getOrders } from "../shared/api.js";

    initDB();

    const list = document.querySelector("#orderList");

    function render() {
      const orders = getOrders();

      if (orders.length === 0) {
        list.innerHTML = "<p>ç›®å‰æ²’æœ‰è¨‚å–®</p>";
        return;
      }

      list.innerHTML = orders.map(o => `
        <div style="border:1px solid #ccc; padding:15px; margin-bottom:10px;">
          <p><b>è¨‚å–®ç·¨è™Ÿï¼š</b>${o.orderId}</p>
          <p><b>ç‹€æ…‹ï¼š</b>${o.status}</p>
          <p><b>ç•™è¨€æ•¸ï¼š</b>${o.messages.length}</p>
          <p><b>è©•åƒ¹ï¼š</b>${o.review.rating ?? "å°šæœªè©•åƒ¹"}</p>
        </div>
      `).join("");
    }

    render();
  </script>
</body>
</html>
